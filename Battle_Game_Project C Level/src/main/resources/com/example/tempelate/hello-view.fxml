<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: linear-gradient(to bottom, #1b1b1b, #0f0f0f);" xmlns="http://javafx.com/javafx/19" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.tempelate.HelloController">

   <children>

      <!-- === BATTLE TITLE === -->
      <Label fx:id="battleTitle" layoutX="20.0" layoutY="20.0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: linear-gradient(to right, #00ffaa, #00ccff);" text="Alien invasion" />

      <!-- === PLAYER PANEL === -->
      <VBox layoutX="25.0" layoutY="80.0" spacing="10">
         <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #00ffff;" text="PLAYER" />
         <GridPane hgap="8" vgap="5">
            <Label text="Name:" />
            <Label fx:id="playerName" text="Aldric" GridPane.columnIndex="1" />

            <Label text="HP:" GridPane.rowIndex="1" />
            <ProgressBar fx:id="playerHPBar" prefWidth="150" progress="1.0" GridPane.columnIndex="1" />

            <Label text="MP:" GridPane.rowIndex="2" />
            <ProgressBar fx:id="teamsmoralebar" prefWidth="150" progress="1.0" GridPane.columnIndex="1" />

            <Label text="Level:" GridPane.rowIndex="3" />
            <Label fx:id="playerLevel" text="12" GridPane.columnIndex="1" />
            <columnConstraints>
               <ColumnConstraints />
               <ColumnConstraints />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
         </GridPane>

         <Separator prefWidth="180" />
         <Label style="-fx-font-weight: bold;" text="Inventory:" />
         <ListView fx:id="inventoryList" prefHeight="150" prefWidth="180" />
      </VBox>

      <!-- === ENEMY PANEL === -->
      <VBox layoutX="660.0" layoutY="80.0" spacing="10">
         <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #ff6666;" text="ENEMY" />
         <GridPane hgap="8" vgap="5">
            <Label text="Name:" GridPane.rowIndex="0" />
            <Label fx:id="enemyName" text="Shadow Drake" GridPane.columnIndex="1" />

            <Label fx:id="hptxt" text="HP:" GridPane.rowIndex="1" />
            <columnConstraints>
               <ColumnConstraints />
               <ColumnConstraints />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
         </GridPane>

         <ImageView fx:id="enemyImage" fitHeight="160.0" fitWidth="160.0" style="-fx-effect: dropshadow(gaussian, #000000, 20, 0.5, 0, 0);" />
      </VBox>

      <!-- === BATTLE LOG === -->
      <TextArea fx:id="battleLog" editable="false" layoutX="250.0" layoutY="100.0" prefHeight="250.0" prefWidth="400.0" promptText="Battle events will appear here..." style="-fx-control-inner-background: #111111; -fx-text-fill: #00ff80; -fx-font-family: 'Consolas';" wrapText="true" />

      <!-- === ACTION BUTTONS === -->
      <VBox layoutX="400.0" layoutY="370.0" spacing="12">
         <Button fx:id="attackButton" onAction="#handleAttack" prefWidth="150" text="Attack" />
         <Button fx:id="negotiationbutton" onAction="#Negotiate" prefWidth="150" text="Negotiate" />
         <Button fx:id="defendButton" onAction="#handleDefend" prefWidth="150" text="Defend" />
         <Button fx:id="itemButton" onAction="#handleUseItem" prefWidth="150" text="Use Item" />
         <Button fx:id="runButton" onAction="#handleRun" prefWidth="150" text="Run Away" />
      </VBox>

      <!-- === TURN LABEL / STATUS === -->
      <Label fx:id="turnLabel" layoutX="412.0" layoutY="52.0" style="-fx-font-size: 14px; -fx-text-fill: #cccccc;" text="Your move..." />

      <!-- === INPUT BOX (optional for commands) === -->
      <TextField fx:id="txtCommand" layoutX="350.0" layoutY="560.0" prefWidth="250.0" promptText="Enter command..." />
      <Button fx:id="btnCommand" layoutX="607.0" layoutY="560.0" onAction="#handleCommand" text="Send" />
      <ListView layoutX="24.0" layoutY="444.0" prefHeight="150.0" prefWidth="193.0" />
      <Label layoutX="24.0" layoutY="427.0" text="Teammates" textFill="#797979" />
      <ProgressBar fx:id="enemymoraler" layoutX="714.0" layoutY="421.0" prefWidth="150" progress="1.0" />

   </children>
</AnchorPane>
